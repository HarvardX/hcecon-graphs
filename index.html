<!DOCTYPE html>
<html>
<!------------ INSTRUCTIONS ------------------

1. Put this code into the HTML box.
1. Put the following files into the appropriate place in an Advanced HTML TE:
    - chart.min.js
    - chartjs-plugin-annotation.min.js
    - main.js
    - styles.css
2. Update the id on the <canvas> element to be unique for each chart 
   (e.g., "myChart1", "myChart2", etc.).
3. Update the chart_config variable in the <script> so that it points to the same element.
4. Put the settings you want into the chart_config variable. 
   There are no settings available other than those shown,
   unless you want to modify the main.js file.

------------- END INSTRUCTIONS -------------->

<head>
  <title>Health Care Economics Interactive Demand Curve</title>
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Sources: -->
  <!-- https://www.chartjs.org/ -->
  <!-- https://www.chartjs.org/chartjs-plugin-annotation/latest/ -->
  <script>
    //////////// UPDATE THE CHART ID BELOW ////////////
    const chart_name = "myChart";
    //////////// Make sure it matches the <canvas> element's id ////////////
    // TODO: There's probably a better way to handle multiple charts on one page.
    if (typeof chart_config === "undefined") {
      var chart_config = {};
    }
    /////////////// CHART CONFIGURATION ///////////////
    chart_config[chart_name] = {
      title: "Demand Curve",
      x: {
        values: [0,20,40,60,80,100],
        label: "Quantity",
        units: "", // use "units", "count", "items", etc. to keep x units from showing up in area of rectangle
        precision: 1,
      },
      y: {
        values: [25, 20, 15, 10, 5,0],
        label: "Price",
        units: " $", // Currency symbols will show before the number
        precision: 1,
      },
      total: {
        units: " $",
        precision: 0.1,
      },
      restrictions: {
        monotonic_increasing: false,
        monotonic_decreasing: false, // Can't set both monotonics true at once.
        no_negative_values: true,
      },
    };
    ////////// END CHART CONFIGURATION //////////
  </script>
</head>

<body>
  <main>
    <div style="max-width: 700px">
      <!---------- Make sure the <canvas> id below matches the chart_name variable ----------->
      <canvas id="myChart" class="chart_canvas" aria-label="Demand curve chart"></canvas>
      <!-- Inputs for keyboard users -->
      <!-- TODO: possibly add drag functionality to the chart -->
      <div class="y-values">
        <input type="number" id="y0" placeholder="0" value="0" aria-label="y value error" />
        <input type="number" id="y1" placeholder="0" value="0" aria-label="y value error" />
        <input type="number" id="y2" placeholder="0" value="0" aria-label="y value error" />
        <input type="number" id="y3" placeholder="0" value="0" aria-label="y value error" />
        <input type="number" id="y4" placeholder="0" value="0" aria-label="y value error" />
      </div>
      <!-- Slider to inspect x/y values and total monetary value -->
      <div class="controls">
        <input id="x-value-slider" type="range" min="0" max="100" step="1" />
        <br />
        <span id="x-value-display" aria-live="polite">X Value: 0</span><br />
        <span id="y-value-display" aria-live="polite">Y Value: 0</span><br />
        <span id="area-under-curve-display" aria-live="polite">Area Of Rectangle: 0</span>
      </div>
    </div>

    <script src="js/chart.min.js"></script>
    <script src="js/chartjs-plugin-annotation.min.js"></script>
    <script src="js/main.js"></script>
  </main>
</body>

</html>