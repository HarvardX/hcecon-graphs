<!DOCTYPE html>
<html>
<!------------ INSTRUCTIONS ------------------

1. Put this code into the HTML box.
1. Put the following files into the appropriate place in an Advanced HTML TE:
    - chart.min.js
    - chartjs-plugin-annotation.min.js
    - main.js
    - styles.css
2. Update the id on the <canvas> element to be unique for each chart 
   (e.g., "myChart1", "myChart2", etc.).
3. Update the chart_config variable in the <script> so that it points to the same element.
4. Put the settings you want into the chart_config variable. 
   There are no settings available other than those shown,
   unless you want to modify the main.js file.

------------- END INSTRUCTIONS -------------->

<head>
  <title>Health Care Economics Interactive Demand Curve</title>
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Sources: -->
  <!-- https://www.chartjs.org/ -->
  <!-- https://www.chartjs.org/chartjs-plugin-annotation/latest/ -->
  <script>
    if (typeof chart_config === "undefined") {
      var chart_config = {};
    }

    /////////////// CHART CONFIGURATION ///////////////
    //////////// UPDATE THE chart_config["CHART NAME"] BELOW ////////////
    //////////// Make sure it matches the <canvas> element's id ////////////
    chart_config["myChart"] = {
      te_id: document.currentScript.getAttribute('data-te-ids'),
      title: "Demand Curve",
      editable: true,
      x: {
        values: [1, 2, 3, 4, 5, 6],
        label: "Quantity",
        units: "", // use "units", "count", "items", etc. to keep x units from showing up in area of rectangle
        precision: 0.01,
      },
      y: {
        values: [35, 30, 25, 20, 15, 10],
        label: "Price",
        units: " $", // Currency symbols will show before the number
        precision: .1,
      },
      total: {
        show_total: true,
        units: " $",
        precision: 0.1,
      },
      restrictions: {
        monotonic_increasing: false,
        monotonic_decreasing: true, // Can't set both monotonics true at once.
        no_negative_values: true,
      },
      slider_features: {
        use_slider: true,
        annotation_type: "box", // "box", "line", or "none"
        custom_start: true,
        custom_start_value: 2, // Only works if custom_start is true
      }
    };
    chart_config["myChart2"] = {
      te_id: document.currentScript.getAttribute('data-te-ids'),
      title: "Demand Curve",
      editable: true,
      x: {
        values: [1, 2, 3, 4, 5, 6],
        label: "Quantity",
        units: "", // use "units", "count", "items", etc. to keep x units from showing up in area of rectangle
        precision: 0.01,
      },
      y: {
        values: [50, 40, 30, 20, 10, 5],
        label: "Price",
        units: " $", // Currency symbols will show before the number
        precision: .1,
      },
      total: {
        show_total: true,
        units: " $",
        precision: 0.1,
      },
      restrictions: {
        monotonic_increasing: false,
        monotonic_decreasing: true, // Can't set both monotonics true at once.
        no_negative_values: true,
      },
      slider_features: {
        use_slider: true,
        annotation_type: "box", // "box", "line", or "none"
        custom_start: true,
        custom_start_value: 3, // Only works if custom_start is true
      }
    };
    ////////// END CHART CONFIGURATION //////////
  </script>
</head>

<body>
  <main>
    <div style="max-width: 700px">
      <!---------- Make sure the <canvas> id below matches the chart_name variable ----------->
      <canvas id="myChart" class="chart_canvas hx-chartjs" aria-label="Demand curve chart"></canvas>
      <!-- Inputs for keyboard users -->
      <!-- TODO: possibly add drag functionality to the chart -->
      <div class="y-values"></div>
      <!-- Slider to inspect x/y values and total monetary value -->
      <div class="chart-controls">
        <span class="x-value-display" aria-live="polite">X Value: 0</span><br />
        <span class="y-value-display" aria-live="polite">Y Value: 0</span><br />
        <span class="area-under-curve-display" aria-live="polite">Area Of Rectangle: 0</span>
      </div>
      </div>
      <div style="max-width: 700px; margin-top: 50px;">
      <!---------- Make sure the <canvas> id below matches the chart_name variable ----------->
      <canvas id="myChart2" class="chart_canvas hx-chartjs" aria-label="Demand curve chart"></canvas>
      <!-- Inputs for keyboard users -->
      <!-- TODO: possibly add drag functionality to the chart -->
      <div class="y-values"></div>
      <!-- Slider to inspect x/y values and total monetary value -->
      <div class="chart-controls">
        <span class="x-value-display" aria-live="polite">X Value: 0</span><br />
        <span class="y-value-display" aria-live="polite">Y Value: 0</span><br />
        <span class="area-under-curve-display" aria-live="polite">Area Of Rectangle: 0</span>
      </div>
    </div>

    <script src="js/chart.min.js"></script>
    <script src="js/chartjs-plugin-annotation.min.js"></script>
    <script src="js/main.js"></script>
  </main>
</body>

</html>